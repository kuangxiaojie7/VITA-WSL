algorithm: vita
seed: 1
cuda: true
env:
  name: smac
  map_name: 3s5z
  difficulty: "7"
  num_envs: 8
  reward_scale: 1.0
  # Base harsh environment: break single-agent perception.
  obs_noise_std: 0.15
  packet_drop_prob: 0.0
  malicious_agent_prob: 0.0
  malicious_obs_noise_scale: 3.0
  noise_warmup_steps: 0

  # Byzantine communication: poison only the neighbor messages.
  comm_noise_std: 0.0
  comm_packet_drop_prob: 0.0
  comm_malicious_agent_prob: 0.3
  comm_malicious_noise_scale: 3.0
  comm_malicious_mode: bernoulli

model:
  hidden_dim: 128
  latent_dim: 64
  attn_bias_coef: 0.75
  comm_dropout: 0.1
  # Naive ablation: no trust gate, no KL regularization.
  enable_trust: false
  enable_kl: false
  vib_deterministic: true
  comm_sight_range: 999
  max_neighbors: 7
  history_length: 1

train:
  episode_length: 400
  updates: 4688
  lr: 0.0005
  gamma: 0.99
  gae_lambda: 0.95
  clip_param: 0.2
  ppo_epochs: 5
  num_mini_batch: 1
  entropy_coef: 0.01
  value_loss_coef: 0.5
  use_value_active_masks: false
  max_grad_norm: 10.0
  comm_delay_updates: 0
  comm_warmup_updates: 0
  comm_full_warmup_updates: 0
  trust_delay_updates: 0
  trust_warmup_updates: 0
  kl_delay_updates: 0
  kl_warmup_updates: 0
  eval_interval_updates: 25
  eval_episodes: 32

